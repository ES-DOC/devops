# ----------------------------------------------------------------------
# PATHS
# ----------------------------------------------------------------------

# Ensure local binaries are available.
PATH=$PATH:$HOME/bin

# Pyenv path.
if [[ -d $HOME/.pyenv ]]; then
    export PATH="$HOME/.pyenv/bin:$PATH"        
    eval "$(pyenv init --path)"
    eval "$(pyenv virtualenv-init -)"
fi

# ----------------------------------------------------------------------
# POSTGRESQL
# ----------------------------------------------------------------------

export PATH=/usr/lib/postgresql/14/bin:$PATH
export PGDATA=/var/lib/pgsql/data

# --------------------------------------------------------------------
# ESDOC - CREDENTIALS
# --------------------------------------------------------------------

if [[ -f $HOME/.esdoc/credentials ]]; then
    source $HOME/.esdoc/credentials
fi

# ----------------------------------------------------------------------
# ESDOC - ARCHIVES
# ----------------------------------------------------------------------

if [[ -d $INSTALLER_TARGET_DIR/documentation-archive ]]; then
    export ESDOC_ARCHIVE_HOME=$INSTALLER_TARGET_DIR/documentation-archive
fi

if [[ -d $INSTALLER_TARGET_DIR/esdoc-cdf2cim-archive ]]; then
    export CDF2CIM_ARCHIVE_HOME=$INSTALLER_TARGET_DIR/esdoc-cdf2cim-archive
fi

if [[ -d $INSTALLER_TARGET_DIR/pyessv-archive ]]; then
    export PYESSV_ARCHIVE_HOME=$INSTALLER_TARGET_DIR/pyessv-archive
fi

# ----------------------------------------------------------------------
# ESDOC - WEB SERVICES
# ----------------------------------------------------------------------

if [[ -d $INSTALLER_TARGET_DIR/esdoc-cdf2cim-ws ]]; then
    export PYTHONPATH=$INSTALLER_TARGET_DIR/esdoc-cdf2cim-ws:$PYTHONPATH
    source $INSTALLER_TARGET_DIR/esdoc-cdf2cim-ws/sh/activate
fi

if [[ -d $INSTALLER_TARGET_DIR/esdoc-documentation-ws ]]; then
    export PYTHONPATH=$INSTALLER_TARGET_DIR/esdoc-documentation-ws:$PYTHONPATH
    source $INSTALLER_TARGET_DIR/esdoc-documentation-ws/sh/activate
fi

if [[ -d $INSTALLER_TARGET_DIR/esdoc-errata-ws ]]; then
    export PYTHONPATH=$INSTALLER_TARGET_DIR/esdoc-errata-ws:$PYTHONPATH
    source $INSTALLER_TARGET_DIR/esdoc-errata-ws/sh/activate
fi

if [[ -d $INSTALLER_TARGET_DIR/pyessv-ws ]]; then
    export PYTHONPATH=$INSTALLER_TARGET_DIR/pyessv-ws:$PYTHONPATH
    source $INSTALLER_TARGET_DIR/pyessv-ws/sh/activate
fi

# ----------------------------------------------------------------------
# ESDOC - DATABASES
# ----------------------------------------------------------------------

if [[ -d $INSTALLER_TARGET_DIR/esdoc-documentation-ws ]]; then
    export ERRATA_DB_USER=esdoc
    export ERRATA_DB_NAME=esdoc_errata
fi

if [[ -d $INSTALLER_TARGET_DIR/esdoc-errata-ws ]]; then
    export ERRATA_DB_USER=esdoc
    export ERRATA_DB_NAME=esdoc_errata
fi
